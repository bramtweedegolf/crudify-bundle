{% extends layout %}

{% block stylesheets %}
  {{ parent() }}
  {% stylesheets filter='lessphp,?yui_css'
    '@BsCrudifyBundle/Resources/less/admin.less'
  %}
    <link href="{{ asset_url }}" type="text/css" rel="stylesheet" />
  {% endstylesheets %}
{% endblock %}

{% block javascripts %}
  {{ parent() }}
  {% javascripts filter='?yui_js'
    '@BsBootstrapifyBundle/Resources/js/bootstrap-datepicker.js'
    '@BsCrudifyBundle/Resources/js/admin.js'
  %}
    <script type="text/javascript" src="{{ asset_url }}"></script>
  {% endjavascripts %}
{% endblock %}

{% block title %}Beheer | {{ parent() }}{% endblock %}
{% block page_title %}<span class="icon-pencil"></span> Beheer{% endblock %}

{% block flash %}
  {% for type in ['notice', 'error', 'success'] %}
    {% for message in app.session.flashbag.get(type) %}
      <div class="alert alert-{{ type }}">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        <span class="icon-bell-alt"></span>
        {{ message|trans }}
      </div>
    {% endfor %}
  {% endfor %}
{% endblock %}

{% block form_actions %}
<div class="form-actions">
  <button name="action" value="index" type="submit" class="btn btn-primary click-disable">
    <span class="icon-save"></span>
    {{ 'Save'|trans }}
  </button>
  <button name="action" value="edit" type="submit" class="btn click-disable">
    <span class="icon-save"></span>
    {{ 'Save and Continue Editing'|trans }}
  </button>
  <a href="{{ cancel_action }}" class="btn">
    <span class="icon-remove"></span>
    {{ 'Cancel'|trans }}
  </a>
</div>
{% endblock %}

{% block page %}
  <div class="row-fluid">
    <a href="{{ path('admin_add', {'entity': entity}) }}" class="btn btn-primary pull-right click-disable">
      <span class="icon-plus"></span>
     {{ 'Add %s'|trans|format(entity|capitalize) }}
    </a>
    <ul class="nav nav-tabs">
      {% for name, fields in entities %}
      <li class="{{ entity == name ? 'active' }}">
        <a href="{{ path('admin_list', {'entity': name}) }}">{{ name|capitalize }}</a>
      </li>
      {% endfor %}
    </ul>
  </div>
  <div class="row-fluid">
  {% block content %}{% endblock %}
  </div>
{% endblock %}
